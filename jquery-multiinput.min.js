!function(e){var t=0,n=[],r=[],i=[],u=null,o=["pointer","mouse","touch"],a=["start","move","end","enter","leave"],c={start:"pointerdown mousedown touchstart",move:"pointermove mousemove touchmove",end:"pointerup mouseup touchend",enter:"pointerenter mouseenter touchenter",leave:"pointerleave mouseleave touchleave"},s=function(r,a,s,f){var l=function(t,n,r){var i,a="multi"+n;return function(n){if(n.multiType=a,i=o.filter(function(e){return~n.type.indexOf(e)}),u!==i[0]){if("touch"===u)return;if(null!==u)return void(u=i[0]);u=i[0]}return null===r?e(t).triggerHandler(a,[n]):e(t).find(r).has(n.target).trigger(a,[n])}},m=l(r,a,s);return i[t]=m,n[t]=f,null===s?e(r).on(c[a],m):e(r).on(c[a],s,m),t++},f=e.fn.on;e.fn.on=function(e,t,n,i,u){switch(e){case"multistart":case"multimove":case"multiend":case"multienter":case"multileave":if("undefined"==typeof t)break;var o,c,l,m,p=a.filter(function(t){return~e.indexOf(t)});if(m=function(e,t){return t.multiType=e.type,l.apply(this,[t])},"function"==typeof t)c=null,l=t,t=m;else{if("function"!=typeof n)throw new Error("引数が不正だよっ");c=t,l=n,n=m}o=s(this,p[0],c,l),r[o]=m}return f.apply(this,[e,t,n,i,u])};var l=e.fn.off;e.fn.off=function(t,u,o){switch(t){case"multistart":case"multimove":case"multiend":case"multienter":case"multileave":var s,f,m;if("function"==typeof u){if(s=n.indexOf(u),0>s)break;u=r[s],m=i[s],f=a.filter(function(e){return~t.indexOf(e)}),e(this).off(c[f[0]],m)}else if("function"==typeof o){if(s=n.indexOf(o),0>s)break;o=r[s],m=i[s],f=a.filter(function(e){return~t.indexOf(e)}),e(this).off(c[f[0]],m)}"function"==typeof m&&(delete n[s],delete r[s],delete i[s])}return l.apply(this,[t,u,o])},e.fn.getMultiXY=function(e,t){var n={};if(!e)return n;t=t||{},t.target=isNaN(t.target)?0:Math.max(0,Math.min(t.target-0,2));var r=["changedTouches","targetTouches","touches"][t.target];switch(e.type){case"mousedown":case"mousemove":case"mouseup":case"mouseenter":case"mouseleave":default:n.screenX=e.screenX,n.screenY=e.screenY,n.clientX=e.clientX,n.clientY=e.clientY,n.pageX=e.pageX,n.pageY=e.pageY;break;case"touchstart":case"touchmove":case"touchend":case"touchenter":case"touchleave":case"touchcancel":var i=e.originalEvent[r];if(!i||!i.length)return n;n.screenX=i[0].screenX,n.screenY=i[0].screenY,n.clientX=i[0].clientX,n.clientY=i[0].clientY,n.pageX=i[0].pageX,n.pageY=i[0].pageY}return n}}(jQuery);
