!function(e){var t=0,n=[],r=[],i=[],u=null,o=["pointer","mouse","touch"],c=["start","move","end","enter","leave"],a={start:"pointerdown mousedown touchstart",move:"pointermove mousemove touchmove",end:"pointerup mouseup touchend",enter:"pointerenter mouseenter touchenter",leave:"pointerleave mouseleave touchleave"},f=function(r,c,f,s){var l=function(t,n,r){var i,c="multi"+n,a=e(t);return function(e){if(e.multiType=c,i=o.filter(function(t){return~e.type.indexOf(t)}),u!==i[0]){if("touch"===u)return;if(null!==u)return void(u=i[0]);u=i[0]}return null===r?a.triggerHandler(c,[e]):a.find(e.target).trigger(c,[e])}},m=l(r,c,f);return i[t]=m,n[t]=s,null===f?e(r).on(a[c],m):e(r).on(a[c],f,m),t++},s=e.fn.on;e.fn.on=function(e,t,n,i,u){switch(e){case"multistart":case"multimove":case"multiend":case"multienter":case"multileave":if("undefined"==typeof t)break;var o,a,l,m,p=c.filter(function(t){return~e.indexOf(t)});if(m=function(e,t){return t.multiType=e.type,l.apply(this,[t])},"function"==typeof t)a=null,l=t,t=m;else{if("function"!=typeof n)throw new Error("引数が不正だよっ");a=t,l=n,n=m}o=f(this,p[0],a,l),r[o]=m}return s.apply(this,[e,t,n,i,u])};var l=e.fn.off;e.fn.off=function(t,u,o){switch(t){case"multistart":case"multimove":case"multiend":case"multienter":case"multileave":var f,s,m;if("function"==typeof u){if(f=n.indexOf(u),0>f)break;u=r[f],m=i[f],s=c.filter(function(e){return~t.indexOf(e)}),e(this).off(a[s[0]],m)}else if("function"==typeof o){if(f=n.indexOf(o),0>f)break;o=r[f],m=i[f],s=c.filter(function(e){return~t.indexOf(e)}),e(this).off(a[s[0]],m)}"function"==typeof m&&(delete n[f],delete r[f],delete i[f])}return l.apply(this,[t,u,o])},e.fn.getMultiXY=function(e,t){var n={};if(!e)return n;t=t||{},t.target=isNaN(t.target)?0:Math.max(0,Math.min(t.target-0,2));var r=["changedTouches","targetTouches","touches"][t.target];switch(e.type){case"mousedown":case"mousemove":case"mouseup":case"mouseenter":case"mouseleave":default:n.screenX=e.screenX,n.screenY=e.screenY,n.clientX=e.clientX,n.clientY=e.clientY,n.pageX=e.pageX,n.pageY=e.pageY;break;case"touchstart":case"touchmove":case"touchend":case"touchenter":case"touchleave":case"touchcancel":var i=e.originalEvent[r];if(!i||!i.length)return n;n.screenX=i[0].screenX,n.screenY=i[0].screenY,n.clientX=i[0].clientX,n.clientY=i[0].clientY,n.pageX=i[0].pageX,n.pageY=i[0].pageY}return n}}(jQuery);
